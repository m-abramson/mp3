---
title: "MP3"
author: "Mathena Abramson"
date: "November 13, 2017"
output: html_document
---
```{r}
library(mdsr)
library(RMySQL)
db <- dbConnect_scidb(dbname = "imdb")
```

```{r}
db %>%
  dbGetQuery("SELECT COUNT(DISTINCT t.id) AS count, title, kind_id, link_type_id, production_year, m.info_type_id, m.info
FROM title t
JOIN movie_link ON t.id = linked_movie_id
JOIN movie_info m ON t.id = m.movie_id
WHERE kind_id = 1 AND link_type_id = 1
GROUP BY production_year;") %>%
ggplot(aes(x = production_year, y = count)) +
	geom_line(size = 1) +
  scale_x_continuous(expand = c(0,0),
                  breaks = c(1900, 1910, 1920, 1930, 1940, 1950, 1960, 1970, 1980, 1990, 2000, 2010, 2020),
                  labels = c("1900", "1910", "1920", "1930", "1940", "1950", "1960", "1970", "1980", "1990", "2000", "2010", "2020"),
                  limits = c(1900, 2020)) 

```


